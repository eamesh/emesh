import{u as y,c as g}from"./goods.a25341f2.js";import P from"./base.0b561946.js";import h from"./data.61f7fb91.js";import j from"./delivery.1744d940.js";import w from"./other.ef060116.js";import{c as F,u as M}from"./goods.46df7371.js";import{d as b,r as G,a as O,c as R,R as C,M as D,f as n}from"./index.78c09cee.js";import"./index.c7bfc907.js";import"./vue.runtime.esm-bundler.831b3aa7.js";import"./on-fonts-ready.ae35f6df.js";import"./use-merged-state.c2667ee5.js";import"./use-compitable.3d828e2e.js";import"./use-breakpoints.4d1d91ba.js";import"./use-keyboard.56e3994d.js";import"./index.31a54536.js";import"./FormItem.03d633ee.js";import"./index.c8e95861.js";import"./next-frame-once.3f36dc6b.js";import"./happens-in.f44eb706.js";import"./responsive.3b03a350.js";import"./get.05c76103.js";import"./TitleDivider.a3e8ca71.js";import"./text.70ab020c.js";import"./UploadVideo.386c3299.js";import"./Image.74f11219.js";import"./light.4ca07ad7.js";import"./use-locale.c29a83eb.js";import"./Tooltip.32e62f75.js";import"./Tag.9b989cfb.js";import"./Follower.d919f920.js";import"./cssr.7e31f5cb.js";import"./light.8df066b9.js";import"./Space.df1d9265.js";import"./light.e6bd6d56.js";import"./Input.d62ae2d3.js";import"./Menu.c43a6a15.js";import"./Dropdown.27fcf2f4.js";import"./index.a288f029.js";import"./ChevronRight.f56fbeda.js";import"./interface.08cd48a1.js";import"./a.4fd84402.js";import"./Grid.2d03393b.js";import"./index.8c3a953a.js";import"./VirtualList.02b97eb1.js";import"./utils.660e96e0.js";import"./Select.d28ef4cc.js";import"./Upload.a9897365.js";import"./Add.ad5e1d51.js";import"./FormItem.e60f1735.js";import"./RadioGroup.dac88e26.js";import"./Divider.b4cc6bcb.js";import"./Pagination.6db75b25.js";import"./Forward.2f76308d.js";import"./group.455a86c7.js";import"./DynamicTags.33a4a9b7.js";import"./light.d72ed5cc.js";import"./Checkbox.2c370ad3.js";import"./DataTable.bec52785.js";import"./p.b34469bb.js";import"./isNumber.f50198c7.js";import"./Switch.ab63ceef.js";import"./light.dd2251a5.js";import"./InputNumber.0ca9e3eb.js";import"./light.48abd972.js";import"./DatePicker.263d4db8.js";import"./TimePicker.fc269c33.js";var Jo=b({name:"GoodsEntity",setup(){const{isAction:p,goodsModel:s}=y(),m=G({}),c=[P,h,j,w],i=O(),a=R();function l(r,o,t){m.value[r]={form:o,model:t}}function u(r){return new Promise((o,t)=>{r.form.validate(e=>{e?t(e):o(r.model)})})}async function d(r){try{return await F(r),i.success("\u65B0\u5EFA\u6210\u529F"),a.replace("/mall/goods"),Promise.resolve()}catch(o){return console.log(o),i.error("\u65B0\u5EFA\u5931\u8D25"),Promise.reject(o)}}async function f(r){try{return await M(s.value.id,r),i.success("\u66F4\u65B0\u6210\u529F"),a.replace("/mall/goods"),Promise.resolve()}catch(o){return console.log(o),i.error("\u66F4\u65B0\u5931\u8D25"),Promise.reject(o)}}async function v(r=""){try{const o=await Promise.all(Object.values(m.value).map(e=>u(e)));let t={};return o.map(e=>t=Object.assign(t,e())),console.log(t),r&&(t.content=r),p.value?await f(t):await d(t),Promise.resolve()}catch(o){return Promise.reject(o)}}return C(g,{setForm:l}),D(()=>{console.log(m.value)}),{components:c,submit:v}},render(){const{components:p}=this;return n("div",{class:"goods-form"},[p.map((s,m)=>n(s,{key:m},null))])}});export{Jo as default};
