import{F as o}from"./FormItem.03d633ee.js";import{T as B}from"./TitleDivider.a3e8ca71.js";import{u as E,c as x}from"./goods.a25341f2.js";import{d as T,C as g,r as s,Q as r,j as N,M as U,f as e,k as l}from"./index.78c09cee.js";import{N as v,a as n}from"./RadioGroup.dac88e26.js";import{N as i}from"./Space.df1d9265.js";import{_ as m}from"./p.b34469bb.js";import{_ as b}from"./DatePicker.263d4db8.js";import{N as C}from"./text.70ab020c.js";import{_ as F}from"./Input.d62ae2d3.js";import{N as h}from"./InputNumber.0ca9e3eb.js";import{_ as w}from"./index.c8e95861.js";import"./index.c7bfc907.js";import"./vue.runtime.esm-bundler.831b3aa7.js";import"./on-fonts-ready.ae35f6df.js";import"./use-merged-state.c2667ee5.js";import"./use-compitable.3d828e2e.js";import"./use-breakpoints.4d1d91ba.js";import"./use-keyboard.56e3994d.js";import"./index.31a54536.js";import"./next-frame-once.3f36dc6b.js";import"./happens-in.f44eb706.js";import"./responsive.3b03a350.js";import"./get.05c76103.js";import"./light.e6bd6d56.js";import"./TimePicker.fc269c33.js";import"./VirtualList.02b97eb1.js";import"./cssr.7e31f5cb.js";import"./use-locale.c29a83eb.js";import"./Follower.d919f920.js";import"./Forward.2f76308d.js";import"./light.48abd972.js";import"./Add.ad5e1d51.js";var de=T({name:"FormBase",setup(){const{goodsModel:u}=E(),p=g(x),c=s(),t=s({publish:!0,buy_text:"\u8D2D\u4E70",unit:"\u4EF6",virtual_sold_num:0,quota:0,mininum:0,publish_datetime:null,down_datetime:null}),d=s(t.value.buy_text!=="\u8D2D\u4E70"?t.value.buy_text:""),f=s("default"),_=s(t.value.publish_datetime?"datetime":"publish");r(()=>u.value,()=>{const a=N(u);t.value={publish:a.publish,buy_text:"\u8D2D\u4E70",unit:a.unit,virtual_sold_num:a.virtual_sold_num,quota:a.quota,mininum:a.mininum,publish_datetime:null,down_datetime:null}});function y(){return t.value}return U(()=>{p==null||p.setForm("other",c.value,y)}),r(()=>_.value,a=>{switch(a){case"publish":t.value.publish=!0,t.value.publish_datetime=null;break;case"datetime":t.value.publish=!1;break}},{immediate:!0}),r(()=>f.value,()=>{f.value==="default"&&(d.value="",t.value.buy_text="\u8D2D\u4E70")}),r(()=>d.value,()=>{t.value.buy_text=d.value}),{model:t,formRef:c,publishType:_,customBuyText:d,customType:f}},render(){return e(w,{modelValue:this.model,"onUpdate:modelValue":u=>this.model=u,ref:"formRef","label-placement":"left","label-width":"200px","require-mark-placement":"right-hanging",class:"form-model"},{default:()=>[e(B,{title:"\u5176\u5B83\u4FE1\u606F"},{default:()=>[e(o,{label:"\u5F00\u552E\u65F6\u95F4:"},{default:()=>[e(v,{value:this.publishType,"onUpdate:value":u=>this.publishType=u},{default:()=>[e(i,{class:"mt-2",vertical:!0},{default:()=>[e(n,{value:"publish",size:"small"},{default:()=>[e(m,null,{default:()=>[l("\u7ACB\u5373\u5F00\u552E")]})]}),e(i,{align:"center"},{default:()=>[e(n,{value:"datetime",size:"small"},{default:()=>[e(m,null,{default:()=>[l("\u5B9A\u65F6\u5F00\u552E")]})]}),e(b,{type:"datetime",clearable:!0,size:"small",formattedValue:this.model.publish_datetime,"onUpdate:formattedValue":u=>this.model.publish_datetime=u,disabled:this.publishType!=="datetime"},null)]})]})]})]}),e(o,{label:"\u5B9A\u65F6\u4E0B\u67B6:",path:"unit"},{default:()=>e(b,{type:"datetime",clearable:!0,size:"small",formattedValue:this.model.down_datetime,"onUpdate:formattedValue":u=>this.model.down_datetime=u},null),help:()=>e(C,{depth:"3"},{default:()=>[l("\u5F00\u542F\u5B9A\u65F6\u4E0B\u67B6\u540E\uFF0C\u7CFB\u7EDF\u4F1A\u5728\u8BBE\u7F6E\u65F6\u95F4\u4E0B\u67B6\u8BE5\u5546\u54C1\u3002\u4E0B\u67B6\u65F6\u95F4\u9700\u8981\u665A\u4E8E\u5F00\u552E\u65F6\u95F4\uFF0C\u5546\u54C1\u624D\u80FD\u5B9A\u65F6\u5F00\u552E\u3002")]})}),e(o,{label:"\u7ACB\u5373\u8D2D\u4E70\u6309\u94AE:",path:"unit"},{default:()=>[e(i,null,{default:()=>[e(v,{value:this.customType,"onUpdate:value":u=>this.customType=u,name:"radiogroup"},{default:()=>[e(i,{align:"center"},{default:()=>[e(n,{value:"default",size:"small"},{default:()=>[e(m,null,{default:()=>[l("\u9ED8\u8BA4\u540D\u79F0")]})]}),e(i,{align:"center"},{default:()=>[e(n,{value:"custom"},{default:()=>[e(m,null,{default:()=>[l("\u81EA\u5B9A\u4E49\u540D\u79F0")]})]}),e(F,{placeholder:"",disabled:this.customType!=="custom",value:this.customBuyText,"onUpdate:value":u=>this.customBuyText=u,size:"small"},null)]})]})]})]})]}),e(o,{label:"\u5355\u4F4D:",path:"unit",class:"form-short"},{default:()=>[e(F,{value:this.model.unit,"onUpdate:value":u=>this.model.unit=u,placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D"},null)]}),e(o,{label:"\u865A\u62DF\u9500\u91CF:",path:"virtual_sold_num",class:"form-short"},{default:()=>[e(h,{value:this.model.virtual_sold_num,"onUpdate:value":u=>this.model.virtual_sold_num=u,showButton:!1},{suffix:()=>e(m,null,{default:()=>[l("\u4EF6")]})})]}),e(o,{label:"\u9650\u8D2D:",path:"quota",class:"form-short"},{default:()=>[e(h,{value:this.model.quota,"onUpdate:value":u=>this.model.quota=u},null)]}),e(o,{label:"\u8D77\u552E:",path:"mininum"},{default:()=>[e(i,{vertical:!0},{default:()=>[e(i,{align:"center"},{default:()=>[e(m,null,{default:()=>[l("\u5546\u54C1\u81F3\u5C11")]}),e(h,{size:"small",style:"width: 160px;",value:this.model.mininum,"onUpdate:value":u=>this.model.mininum=u},null),e(m,null,{default:()=>[l("\u4EF6\u8D77\u552E")]})]})]})]})]})]})}});export{de as default};
