var g=Object.defineProperty,b=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var n=(l,e,t)=>e in l?g(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,y=(l,e)=>{for(var t in e||(e={}))D.call(e,t)&&n(l,t,e[t]);if(m)for(var t of m(e))k.call(e,t)&&n(l,t,e[t]);return l},v=(l,e)=>b(l,F(e));import{F as d}from"./FormItem.03d633ee.js";import{T as w}from"./TitleDivider.a3e8ca71.js";import{d as V,C as R,r as f,Q as U,j as z,M as E,f as r,k as a,es as M}from"./index.78c09cee.js";import{N as c}from"./a.4fd84402.js";import{u as A,c as B}from"./goods.a25341f2.js";import{N as C,a as G}from"./Checkbox.2c370ad3.js";import{i as _}from"./isNumber.f50198c7.js";import{N as o}from"./Space.df1d9265.js";import{_ as u}from"./p.b34469bb.js";import{N as j,a as x}from"./RadioGroup.dac88e26.js";import{N as I}from"./InputNumber.0ca9e3eb.js";import{N as P}from"./Select.d28ef4cc.js";import{N as T}from"./Divider.b4cc6bcb.js";import{_ as q}from"./index.c8e95861.js";import"./index.c7bfc907.js";import"./vue.runtime.esm-bundler.831b3aa7.js";import"./on-fonts-ready.ae35f6df.js";import"./use-merged-state.c2667ee5.js";import"./use-compitable.3d828e2e.js";import"./use-breakpoints.4d1d91ba.js";import"./use-keyboard.56e3994d.js";import"./index.31a54536.js";import"./next-frame-once.3f36dc6b.js";import"./happens-in.f44eb706.js";import"./responsive.3b03a350.js";import"./get.05c76103.js";import"./text.70ab020c.js";import"./light.e6bd6d56.js";import"./light.48abd972.js";import"./use-locale.c29a83eb.js";import"./Input.d62ae2d3.js";import"./Add.ad5e1d51.js";import"./utils.660e96e0.js";import"./VirtualList.02b97eb1.js";import"./cssr.7e31f5cb.js";import"./Follower.d919f920.js";import"./Tag.9b989cfb.js";import"./light.8df066b9.js";var Ve=V({name:"FormBase",setup(){const{goodsModel:l}=A(),e=R(B),t=f(),i=f({delivery_type:["express"],express:{delivery_price:0,delivery_id:null,express_type:"price"}}),h={delivery_type:{type:"array",required:!0,trigger:"change",asyncValidator:()=>new Promise((s,p)=>{i.value.delivery_type.length>0?s():p("\u8BF7\u9009\u62E9\u914D\u9001\u65B9\u5F0F")})},express:{delivery_price:{type:"number",asyncValidator:()=>new Promise((s,p)=>{i.value.delivery_type.includes("express")===!1||i.value.express.express_type!=="price"||_(i.value.express.delivery_price)?s():p("\u8BF7\u8F93\u5165\u914D\u9001\u4EF7\u683C")})},delivery_id:{type:"string",trigger:"change",asyncValidator:()=>new Promise((s,p)=>{i.value.delivery_type.includes("express")===!1||i.value.express.express_type!=="template"||_(i.value.express.delivery_id)?s():p("\u8BF7\u9009\u62E9\u8FD0\u8D39\u6A21\u677F")})}}};U(()=>l.value,()=>{const s=z(l);i.value={delivery_type:s.delivery_type,express:{delivery_price:s.delivery_price,delivery_id:s.delivery_id||null,express_type:s.express_type}}});function N(){return v(y({delivery_type:i.value.delivery_type},i.value.express),{delivery_id:i.value.express.delivery_id||0})}return E(()=>{e==null||e.setForm("delivery",t.value,N)}),{model:i,rules:h,formRef:t}},render(){const{rules:l}=this;return r(q,{modelValue:this.model,"onUpdate:modelValue":e=>this.model=e,ref:"formRef",rules:l,"label-placement":"left","label-width":"200px","require-mark-placement":"right-hanging",class:"form-model"},{default:()=>[r(w,{title:"\u7269\u6D41\u4FE1\u606F"},{default:()=>[r(d,{label:"\u914D\u9001\u65B9\u5F0F:",path:"delivery_type",class:"form-mid"},{default:()=>[r(C,{value:this.model.delivery_type,"onUpdate:value":e=>this.model.delivery_type=e},{default:()=>[r(o,{"item-style":"display: flex;"},{default:()=>[r(G,{value:"express",size:"small"},{default:()=>[r(u,null,{default:()=>[a("\u5FEB\u9012\u53D1\u8D27")]})]})]})]})]}),this.model.delivery_type.includes("express")?r(d,{label:"\u5FEB\u9012\u8FD0\u8D39:",path:"express.delivery"},{default:()=>[r(j,{value:this.model.express.express_type,"onUpdate:value":e=>this.model.express.express_type=e},{default:()=>[r(o,{vertical:!0},{default:()=>[r(o,{align:"center"},{default:()=>[r(x,{value:"price",size:"small"},{default:()=>[r(u,null,{default:()=>[a("\u7EDF\u4E00\u90AE\u8D39")]})]}),r(d,{hideHelp:!0,hideFeedback:!0,path:"express.delivery_price"},{default:()=>[r(I,{disabled:this.model.express.express_type!=="price",value:this.model.express.delivery_price,"onUpdate:value":e=>this.model.express.delivery_price=e,size:"small",style:{width:"140px"}},null)]})]}),r(o,{align:"center"},{default:()=>[r(x,{value:"template",size:"small"},{default:()=>[r(u,null,{default:()=>[a("\u8FD0\u8D39\u6A21\u677F")]})]}),r(d,{hideFeedback:!0,hideHelp:!0,path:"express.delivery_id"},{default:()=>[r(P,{value:this.model.express.delivery_id,"onUpdate:value":e=>this.model.express.delivery_id=e,style:"width: 200px;",size:"small",disabled:this.model.express.express_type!=="template"},null)]}),r("div",null,[r(M,{to:"/"},{default:()=>[r(c,null,{default:()=>[a("\u65B0\u5EFA")]})]}),r(T,{vertical:!0},null),r(c,null,{default:()=>[a("\u5237\u65B0")]})])]})]})]})]}):null]})]})}});export{Ve as default};
