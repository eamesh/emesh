import{d as ee,m as r,p as b,q as j,F as z,G as Ue,H as Ae,I as te,ec as Oe,r as S,x as G,D as w,P as He,V as Ve,z as Ee,y,a0 as De,a1 as F}from"./index.78c09cee.js";import{u as Le}from"./use-locale.c29a83eb.js";import{u as X}from"./use-merged-state.c2667ee5.js";import{_ as Je}from"./Input.d62ae2d3.js";import{N as qe}from"./Select.d28ef4cc.js";import{F as Qe,a as Ke,b as We,B as Ze}from"./Forward.2f76308d.js";var Y=ee({name:"More",render(){return r("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},r("g",{fill:"currentColor","fill-rule":"nonzero"},r("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}});function Ge(t,a,i=9){if(a===1)return[1];if(a===2)return[1,2];const c=1,o=a;let u=t,f=t;const P=(i-5)/2;f+=Math.ceil(P),f=Math.min(Math.max(f,c+i-3),o-2),u-=Math.floor(P),u=Math.max(Math.min(u,o-i+3),c+2);let v=!1,k=!1;u>c+2&&(v=!0),f<o-2&&(k=!0);const d=[];d.push(c),v?d.push(-2):o>=c+1&&d.push(c+1);for(let l=u;l<=f;++l)d.push(l);return k?d.push(-1):f===o-2&&d[d.length-1]!==o-1&&d.push(o-1),d[d.length-1]!==o&&d.push(o),d}function Xe(t,a){return t.map(i=>{switch(i){case-2:return{type:"fast-backward",active:!1};case-1:return{type:"fast-forward",active:!1};default:return i===a?{type:"page",label:i,active:!0}:{type:"page",label:i,active:!1}}})}function Ye(t,a,i){const c=Ge(t,a,i);return Xe(c,t)}var et=b("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[b("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),b("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),j("> *:not(:first-child)",{margin:"var(--n-item-margin)"}),b("select",{width:"var(--n-select-width)"}),j("&.transition-disabled",[b("pagination-item",{transition:"none!important"})]),b("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumter-font-size);
 `,[b("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),b("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[z("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 `,[b("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),Ue("disabled",[j("&:hover",{background:"var(--n-item-color-hover)",color:"var(--n-item-text-color-hover)",border:"var(--n-item-border-hover)"},[z("button",{background:"var(--n-button-color-hover)",border:"var(--n-button-border-hover)",color:"var(--n-button-icon-color-hover)"})]),j("&:active",{background:"var(--n-item-color-pressed)",color:"var(--n-item-text-color-pressed)",border:"var(--n-item-border-pressed)"},[z("button",{background:"var(--n-button-color-pressed)",border:"var(--n-button-border-pressed)",color:"var(--n-button-icon-color-pressed)"})]),z("active",{background:"var(--n-item-color-active)",color:"var(--n-item-text-color-active)",border:"var(--n-item-border-active)"},[j("&:hover",{background:"var(--n-item-color-active-hover)"})])]),z("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[z("active, button",{backgroundColor:"var(--n-item-color-disabled)",border:"var(--n-item-border-disabled)"})])]),z("disabled",{cursor:"not-allowed"},[b("pagination-quick-jumper",{color:"var(--n-jumper-text-color-disabled)"})])]);const tt=Object.assign(Object.assign({},te.props),{page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:{type:Number,default:10},pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,disabled:Boolean,pageSlot:{type:Number,default:9},prev:Function,next:Function,prefix:Function,suffix:Function,label:Function,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]});var st=ee({name:"Pagination",props:tt,setup(t){const{mergedComponentPropsRef:a,mergedClsPrefixRef:i,inlineThemeDisabled:c}=Ae(t),o=te("Pagination","-pagination",et,Oe,t,i),{localeRef:u}=Le("Pagination"),f=S(null),P=S(null),v=S(""),k=S(t.defaultPage),d=S(t.defaultPageSize),l=X(G(t,"page"),k),p=X(G(t,"pageSize"),d),h=w(()=>{const{itemCount:e}=t;if(e!==void 0)return Math.max(1,Math.ceil(e/p.value));const{pageCount:n}=t;return n!==void 0?n:1}),M=S(!1),x=S(!1),A=w(()=>{const e=u.value.selectionSuffix;return t.pageSizes.map(n=>typeof n=="number"?{label:`${n} / ${e}`,value:n}:n)}),O=w(()=>{var e,n;return((n=(e=a==null?void 0:a.value)===null||e===void 0?void 0:e.Pagination)===null||n===void 0?void 0:n.inputSize)||"small"}),H=w(()=>{var e,n;return((n=(e=a==null?void 0:a.value)===null||e===void 0?void 0:e.Pagination)===null||n===void 0?void 0:n.selectSize)||"small"}),V=w(()=>(l.value-1)*p.value),E=w(()=>{const e=l.value*p.value-1,{itemCount:n}=t;return n!==void 0&&e>n?n:e}),D=w(()=>{const{itemCount:e}=t;return e!==void 0?e:(t.pageCount||1)*p.value}),R=()=>{De(()=>{var e;const{value:n}=f;!n||(n.classList.add("transition-disabled"),(e=f.value)===null||e===void 0||e.offsetWidth,n.classList.remove("transition-disabled"))})};function C(e){if(e===l.value)return;const{"onUpdate:page":n,onUpdatePage:s,onChange:g}=t;n&&F(n,e),s&&F(s,e),g&&F(g,e),k.value=e}function L(e){if(e===p.value)return;const{"onUpdate:pageSize":n,onUpdatePageSize:s,onPageSizeChange:g}=t;n&&F(n,e),s&&F(s,e),g&&F(g,e),d.value=e,h.value<l.value&&C(h.value)}function J(){if(t.disabled)return;const e=Math.min(l.value+1,h.value);C(e)}function q(){if(t.disabled)return;const e=Math.max(l.value-1,1);C(e)}function Q(){if(t.disabled)return;const e=Math.min(l.value+(t.pageSlot-4),h.value);C(e)}function K(){if(t.disabled)return;const e=Math.max(l.value-(t.pageSlot-4),1);C(e)}function W(e){L(e)}function Z(e){var n;if(e.code==="Enter"||e.code==="NumpadEnter"){const s=parseInt(v.value);!Number.isNaN(s)&&s>=1&&s<=h.value&&(C(s),v.value="",(n=P.value)===null||n===void 0||n.blur())}}function B(e){if(!t.disabled)switch(e.type){case"page":C(e.label);break;case"fast-backward":K();break;case"fast-forward":Q();break}}function _(e){if(!t.disabled){switch(e.type){case"fast-backward":x.value=!0;break;case"fast-forward":M.value=!0;break;default:return}R()}}function $(e){if(!t.disabled){switch(e.type){case"fast-backward":x.value=!1;break;case"fast-forward":M.value=!1;break;default:return}R()}}function N(e){v.value=e}He(()=>{l.value,p.value,R()});const I=w(()=>{const{self:{itemSize:e,itemPadding:n,itemMargin:s,inputWidth:g,selectWidth:T,inputMargin:U,selectMargin:ne,buttonBorder:ae,buttonBorderHover:re,buttonBorderPressed:oe,buttonIconColor:ie,buttonIconColorHover:le,buttonIconColorPressed:se,buttonIconSize:de,itemTextColor:ue,itemTextColorHover:ce,itemTextColorPressed:me,itemTextColorActive:fe,itemTextColorDisabled:ve,itemColor:ge,itemColorHover:be,itemColorPressed:pe,itemColorActive:he,itemColorActiveHover:xe,itemColorDisabled:Ce,itemBorder:we,itemBorderHover:Pe,itemBorderPressed:ke,itemBorderActive:ze,itemBorderDisabled:Se,itemBorderRadius:Ie,itemFontSize:ye,jumperFontSize:Fe,jumperTextColor:Me,jumperTextColorDisabled:Re,prefixMargin:Be,suffixMargin:Ne,buttonColor:je,buttonColorHover:_e,buttonColorPressed:$e},common:{cubicBezierEaseInOut:Te}}=o.value;return{"--n-prefix-margin":Be,"--n-suffix-margin":Ne,"--n-item-font-size":ye,"--n-select-width":T,"--n-select-margin":ne,"--n-input-width":g,"--n-input-margin":U,"--n-item-size":e,"--n-item-text-color":ue,"--n-item-text-color-disabled":ve,"--n-item-text-color-hover":ce,"--n-item-text-color-active":fe,"--n-item-text-color-pressed":me,"--n-item-color":ge,"--n-item-color-hover":be,"--n-item-color-disabled":Ce,"--n-item-color-active":he,"--n-item-color-active-hover":xe,"--n-item-color-pressed":pe,"--n-item-border":we,"--n-item-border-hover":Pe,"--n-item-border-disabled":Se,"--n-item-border-active":ze,"--n-item-border-pressed":ke,"--n-item-padding":n,"--n-item-border-radius":Ie,"--n-bezier":Te,"--n-jumper-font-size":Fe,"--n-jumper-text-color":Me,"--n-jumper-text-color-disabled":Re,"--n-item-margin":s,"--n-button-icon-size":de,"--n-button-icon-color":ie,"--n-button-icon-color-hover":le,"--n-button-icon-color-pressed":se,"--n-button-color-hover":_e,"--n-button-color":je,"--n-button-color-pressed":$e,"--n-button-border":ae,"--n-button-border-hover":re,"--n-button-border-pressed":oe}}),m=c?Ve("pagination",void 0,I,t):void 0;return{mergedClsPrefix:i,locale:u,selfRef:f,jumperRef:P,mergedPage:l,showFastBackward:x,showFastForward:M,pageItems:w(()=>Ye(l.value,h.value,t.pageSlot)),mergedItemCount:D,jumperValue:v,pageSizeOptions:A,mergedPageSize:p,inputSize:O,selectSize:H,mergedTheme:o,mergedPageCount:h,startIndex:V,endIndex:E,handleJumperInput:N,handleBackwardClick:q,handleForwardClick:J,handlePageItemClick:B,handleSizePickerChange:W,handleQuickJumperKeyUp:Z,handlePageItemMouseEnter:_,handlePageItemMouseLeave:$,cssVars:c?void 0:I,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{$slots:t,mergedClsPrefix:a,disabled:i,cssVars:c,mergedPage:o,mergedPageCount:u,pageItems:f,showFastBackward:P,showFastForward:v,showSizePicker:k,showQuickJumper:d,mergedTheme:l,locale:p,inputSize:h,selectSize:M,mergedPageSize:x,pageSizeOptions:A,jumperValue:O,prev:H,next:V,prefix:E,suffix:D,label:R,handleJumperInput:C,handleSizePickerChange:L,handleBackwardClick:J,handlePageItemClick:q,handlePageItemMouseEnter:Q,handlePageItemMouseLeave:K,handleForwardClick:W,handleQuickJumperKeyUp:Z,onRender:B}=this;B==null||B();const _=t.prefix||E,$=t.suffix||D,N=H||t.prev,I=V||t.next,m=R||t.label;return r("div",{ref:"selfRef",class:[`${a}-pagination`,this.themeClass,i&&`${a}-pagination--disabled`],style:c},_?r("div",{class:`${a}-pagination-prefix`},_({page:o,pageSize:x,pageCount:u,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,r("div",{class:[`${a}-pagination-item`,!N&&`${a}-pagination-item--button`,(o<=1||o>u||i)&&`${a}-pagination-item--disabled`],onClick:J},N?N({page:o,pageSize:x,pageCount:u,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):r(y,{clsPrefix:a},{default:()=>r(Ze,null)})),f.map((e,n)=>{let s;switch(e.type){case"page":const g=e.label;m?s=m({type:"page",node:g,active:e.active}):s=g;break;case"fast-forward":const T=v?r(y,{clsPrefix:a},{default:()=>r(We,null)}):r(y,{clsPrefix:a},{default:()=>r(Y,null)});m?s=m({type:"fast-forward",node:T,active:v}):s=T;break;case"fast-backward":const U=P?r(y,{clsPrefix:a},{default:()=>r(Ke,null)}):r(y,{clsPrefix:a},{default:()=>r(Y,null)});m?s=m({type:"fast-backward",node:U,active:P}):s=U;break}return r("div",{key:n,class:[`${a}-pagination-item`,{[`${a}-pagination-item--active`]:e.active,[`${a}-pagination-item--disabled`]:i}],onClick:()=>q(e),onMouseenter:()=>Q(e),onMouseleave:()=>K(e)},s)}),r("div",{class:[`${a}-pagination-item`,!I&&`${a}-pagination-item--button`,{[`${a}-pagination-item--disabled`]:o<1||o>=u||i}],onClick:W},I?I({page:o,pageSize:x,pageCount:u,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):r(y,{clsPrefix:a},{default:()=>r(Qe,null)})),k?r(qe,{size:M,placeholder:"",options:A,value:x,disabled:i,theme:l.peers.Select,themeOverrides:l.peerOverrides.Select,onUpdateValue:L}):null,d?r("div",{class:`${a}-pagination-quick-jumper`},Ee(this.$slots.goto,()=>[p.goto]),r(Je,{ref:"jumperRef",value:O,onUpdateValue:C,size:h,placeholder:"",disabled:i,theme:l.peers.Input,themeOverrides:l.peerOverrides.Input,onKeyup:Z})):null,$?r("div",{class:`${a}-pagination-suffix`},$({page:o,pageSize:x,pageCount:u,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}});export{st as _};
